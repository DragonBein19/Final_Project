<!DOCTYPE html>
<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Afacad' rel='stylesheet'>
        <link rel="stylesheet" href="styles/profiledetails.css">     
    </head>

    <body>
        <img src="/konc2.jpeg" alt="Fonas" id="background-image" />

        <div id="header-bar" id="center-title">TICKET LIVE</div>

        <div id="footer-bar">©2025 GABRIELĖ GERMANTĖ NIKITA INEDA PI23A</div>

        <div id="dark-box">
            <h2>Profile details</h2>
            <div id="user-info">
                <p><span class="label">Name:</span> <span class="value" id="name"></span></p>
                <p><span class="label">Surname:</span> <span class="value" id="surname"></span></p>
                <p><span class="label">Email:</span> <span class="value" id="email"></span></p>
                <p><span class="label">Phone number:</span> <span class="value" id="phone"></span></p>
                <p><span class="label">Registration date:</span> <span class="value" id="registrationDate"></span></p>
                </div>
            <a id="button" href="logedin.html">Done</a>
        </div>
        <script>
            fetch('http://localhost:3000/users')
            .then(response => {
                if (!response.ok) {
                    throw new Error("Error: " + response.statusText);
                }
                return response.json();
            })
            .then(user => {
                document.getElementById("name").textContent = user.name;
                document.getElementById("surname").textContent = user.surname;
                document.getElementById("email").textContent = user.email;
                document.getElementById("phone").textContent = user.phone;
                document.getElementById("registrationDate").textContent = new Date(user.registrationDate).toLocaleString();
            })
            .catch(error => {
                document.getElementById("userInfo").innerHTML = "<p>Error while loading data.</p>";
                console.error(error);
            });
        </script>
    </body>
</html>